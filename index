<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trionex Parfums | El Lujo √Årabe</title>
    
    <link rel="stylesheet" href="style.css?v=101">
    
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
</head>
<body>

    <div class="background-overlay"></div>

    <div id="toast-notification" class="toast">Notificaci√≥n</div>

    <header>
        <div class="logo-wrapper">
            <img src="logo.jpeg" alt="Trionex Logo" class="logo-img">
            <div class="logo-text">
                <span class="brand">TRIONEX</span>
                <span class="sub-brand">PARFUMS</span>
            </div>
        </div>
        
        <nav class="menu-usuario">
            <button onclick="window.verCarrito()" class="btn-icon cart-btn" title="Ver Bolsa">
                <i class="fa-solid fa-bag-shopping"></i>
                <span class="badge" id="cuentaCarrito">0</span>
            </button>
            
            <button onclick="window.irAlLogin()" class="btn-admin" title="Acceso Admin">
                <i class="fa-solid fa-user-gear"></i>
            </button>
        </nav>
    </header>

    <main id="pantalla-tienda">
        <div class="hero-banner">
            <div class="hero-content">
                <div class="adorno-flotante">‚öú</div>
                <span class="hero-subtitle">COLECCI√ìN EXCLUSIVA</span>
                <h1>EL LUJO <br>EMBOTELLADO</h1>
                <p class="hero-description">El secreto del desierto en cada gota.</p>
                
                <div class="btn-container">
                    <button onclick="document.getElementById('catalogo').scrollIntoView({behavior: 'smooth'})" class="btn-gold-luxury">
                        Descubrir
                    </button>
                </div>
            </div>
        </div>

        <div id="catalogo" class="seccion-productos">
            <div class="titulo-seccion" style="flex-direction: column; gap: 10px; margin-bottom: 40px;">
                <div style="display: flex; align-items: center; gap: 20px; justify-content: center; text-align: center; flex-wrap: wrap;">
                    <span class="linea-lateral"></span>
                    <h2 style="font-size: 1rem; text-transform: none; letter-spacing: 1px; line-height: 1.6; color: #333;">
                        <i class="fa-solid fa-truck-fast" style="color: var(--gold);"></i> contraentrega a todo lima - callao y Env√≠os a todo el Per√∫ 
                        <br>
                        <i class="fa-solid fa-credit-card" style="color: var(--gold);"></i> haceptamos Todos los medios de pago üí≥
                    </h2>
                    <span class="linea-lateral"></span>
                </div>
            </div>
            
            <div class="buscador-container">
                <div class="input-wrapper">
                    <i class="fa-solid fa-magnifying-glass icono-busqueda"></i>
                    <input type="text" id="buscadorCliente" placeholder="Busca tu perfume..." onkeyup="window.buscarProductoCliente()">
                </div>
            </div>

            <div id="contenedor-productos" class="grid-productos"></div>
        </div>
    </main>

    <div id="modal-carrito" class="modal">
        <div class="contenido-modal glass-effect">
            <div class="modal-header">
                <h2>Bolsa de Compras</h2>
                <span class="cerrar-modal" onclick="window.cerrarModal('modal-carrito')">&times;</span>
            </div>
            <div id="lista-carrito" class="carrito-scroll"></div>
            <div class="modal-footer">
                <div class="resumen-total"><span>Total:</span><span id="total-carrito">S/ 0</span></div>
                <div class="input-group"><i class="fa-regular fa-user"></i><input type="text" id="nombreClienteInput" placeholder="Tu Nombre"></div>
                <button onclick="window.enviarPedido()" class="btn-whatsapp-full"><i class="fa-brands fa-whatsapp"></i> Pedir por WhatsApp</button>
            </div>
        </div>
    </div>

    <div id="modal-login" class="modal">
        <div class="contenido-modal login-box glass-effect">
            <span class="cerrar-modal" onclick="window.cerrarModal('modal-login')">&times;</span>
            <h2 style="font-family: 'Cinzel', serif; margin-bottom:20px;">Admin</h2>
            <input type="password" id="adminPassword" placeholder="Contrase√±a" class="input-light">
            <button onclick="window.verificarPassword()" class="btn-gold-luxury" style="width:100%; margin-top:10px;">Entrar</button>
        </div>
    </div>

    <div id="modal-admin-alert" class="modal">
        <div class="contenido-modal glass-effect" style="text-align: center;">
            <div class="modal-header" style="justify-content: center; border:none;">
                <h2 style="color: #b91c1c;"><i class="fa-solid fa-triangle-exclamation"></i> Stock Agotado</h2>
            </div>
            <div id="lista-agotados" style="text-align: left; margin: 10px 0; max-height: 200px; overflow-y: auto; border: 1px solid #eee; padding: 10px;"></div>
            <button onclick="window.cerrarModal('modal-admin-alert')" class="btn-gold-luxury" style="width:100%">Entendido</button>
        </div>
    </div>

    <div id="modal-confirmacion" class="modal">
        <div class="contenido-modal glass-effect" style="text-align: center;">
            <h3>¬øEst√°s seguro?</h3>
            <p>Esta acci√≥n no se puede deshacer.</p>
            <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
                <button id="btn-confirmar-si" class="btn-gold-luxury" style="background: #b91c1c; border:none;">Eliminar</button>
                <button onclick="window.cerrarModal('modal-confirmacion')" class="btn-gold-luxury" style="background: #ccc; color: #333; border:none;">Cancelar</button>
            </div>
        </div>
    </div>

    <div id="modal-prompt" class="modal">
        <div class="contenido-modal glass-effect">
            <span class="cerrar-modal" onclick="window.cerrarModal('modal-prompt')">&times;</span>
            <h3 id="prompt-titulo">Ingresar Valor</h3>
            <input type="number" id="prompt-input" class="input-light" style="margin: 15px 0; width: 100%;">
            <button id="btn-prompt-ok" class="btn-gold-luxury" style="width:100%">Guardar</button>
        </div>
    </div>

    <div id="subirImagenModal" class="modal">
        <div class="contenido-modal glass-effect">
            <span class="cerrar-modal" onclick="window.cerrarModal('subirImagenModal')">&times;</span>
            <h2>Cambiar Imagen</h2>
            <input type="file" id="archivoEditarInput" accept="image/*" style="margin: 20px 0; width: 100%;">
            <button onclick="window.confirmarCambioImagen()" class="btn-gold-luxury" style="width:100%">Guardar Imagen</button>
        </div>
    </div>

    <div id="pantalla-admin" style="display: none;">
        <nav class="admin-nav">
            <div class="admin-brand">TRIONEX <span>MANAGER</span></div>
            <button onclick="window.cerrarAdmin()" class="btn-back"><i class="fa-solid fa-arrow-right-from-bracket"></i> Salir</button>
        </nav>
        
        <div class="admin-container">
            <div class="admin-grid-top">
                <div class="stat-card">
                    <div class="stat-icon warning"><i class="fa-solid fa-triangle-exclamation"></i></div>
                    <div class="stat-info">
                        <h3>Alertas</h3>
                        <button onclick="window.checkStockInicial()">Ver Agotados</button>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon success"><i class="fa-solid fa-file-csv"></i></div>
                    <div class="stat-info">
                        <h3>Reportes</h3>
                        <button onclick="window.descargarExcel()">Descargar CSV</button>
                    </div>
                </div>
                <div class="stat-card security-card">
                    <div class="stat-icon dark"><i class="fa-solid fa-lock"></i></div>
                    <div class="stat-info">
                        <h3>Seguridad</h3>
                        <div class="password-change-group">
                            <input type="password" id="nuevaContraAdmin" placeholder="Nueva Clave">
                            <button onclick="window.cambiarContrasena()" class="btn-small">Ok</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="management-area glass-card-admin">
                <div class="header-management">
                    <h3>Inventario Global</h3>
                    <div class="search-box">
                        <i class="fa-solid fa-magnifying-glass"></i>
                        <input type="text" id="buscadorAdmin" placeholder="Buscar producto..." onkeyup="window.buscarProductoAdmin()">
                    </div>
                </div>

                <div class="add-product-form">
                    <h4><i class="fa-solid fa-plus"></i> Nuevo Producto</h4>
                    <div class="form-row" style="flex-wrap: wrap; gap: 10px;">
                        <input type="text" id="nuevoNombre" placeholder="Nombre" style="flex: 2;">
                        <input type="text" id="nuevoMarca" placeholder="Marca" style="flex: 1;">
                        <input type="number" id="nuevoPrecio" placeholder="Precio" style="flex: 1;">
                        <input type="number" id="nuevoPrecioOferta" placeholder="Oferta (Opcional)" style="flex: 1; border-color: var(--gold);">
                        <input type="number" id="nuevoStock" placeholder="Stock" style="flex: 1;">
                        <input type="text" id="nuevaImagen" placeholder="URL Foto (Opcional)" style="flex: 1.5;">
                        <button onclick="window.crearProducto()" class="btn-save" style="flex: 1;">Guardar</button>
                    </div>
                </div>

                <div class="table-container-luxury">
                    <table id="tabla-stock"></table>
                </div>
            </div>
        </div>
    </div>

    <a href="https://wa.me/51901007940?text=Hola%20Trionex,%20quisiera%20m√°s%20informaci√≥n%20sobre%20un%20perfume" class="btn-wsp-flotante" target="_blank">
        <i class="fa-brands fa-whatsapp"></i> Cont√°ctanos
    </a>

    <script src="script.js"></script>
</body>
</html>
